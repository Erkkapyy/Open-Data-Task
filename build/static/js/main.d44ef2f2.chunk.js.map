{"version":3,"sources":["utils/config.js","services/data.js","components/Notification.js","components/Data.js","components/Home.js","components/History.js","App.js","index.js"],"names":["module","exports","ACCESS_TOKEN","process","token","services_data","getData","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","config","response","wrap","_context","prev","next","headers","Authorization","axios","get","concat","sent","abrupt","data","stop","apply","this","arguments","setToken","newToken","create","_ref2","_callee2","newObject","_context2","post","_x","getHistory","_ref3","_callee3","_context3","Notification","message","status","react_default","createElement","className","Data","Fragment","date","sensor1","sensor2","sensor3","sensor4","Home","currentData","newData","allData","components_Data","onClick","forEach","d","length","average","peak","bottom","History","map","key","id","App","_useState","useState","_useState2","slicedToArray","setCurrentData","_useState3","_useState4","setAllData","_useState5","_useState6","setMessage","_useState7","_useState8","setStatus","useEffect","dataService","then","fetchedData","console","log","history","addedData","objectSpread","setTimeout","t0","padding","BrowserRouter","Link","style","to","components_Notification","Route","exact","path","render","components_Home","components_History","require","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.d44ef2f2.chunk.js","sourcesContent":["if (process.env.NODE_ENV !== \"production\") {\n  require(\"dotenv\").config()\n}\n\nlet ACCESS_TOKEN = process.env.REACT_APP_ACCESS_TOKEN\n\nmodule.exports = {\n  ACCESS_TOKEN\n}\n","import axios from \"axios\"\nconst dataApiUrl = \"https://opendata.hopefully.works/api\"\nconst baseUrl = \"/api/data\"\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getData = async () => {\n  const config = {\n    headers: { Authorization: token }\n  }\n\n  const response = await axios.get(`${dataApiUrl}/events`, config)\n\n  return response.data\n}\n\nconst create = async newObject => {\n  const response = await axios.post(baseUrl, newObject)\n  return response.data\n}\n\nconst getHistory = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nexport default { getData, setToken, create, getHistory }\n","import React from \"react\"\n\nconst Notification = ({ message, status }) => {\n  if (message === null) {\n    return null\n  }\n  if (status === \"success\") {\n    return <div className=\"success\">{message}</div>\n  } else {\n    return <div className=\"error\">{message}</div>\n  }\n}\n\nexport default Notification\n","import React from \"react\"\n\nconst Data = response => {\n  return (\n    <>\n      <div>\n        <strong>Date:</strong> {response.data.date}\n      </div>\n      <div>\n        <strong>Sensor 1:</strong> {response.data.sensor1}\n      </div>\n      <div>\n        <strong>Sensor 2:</strong> {response.data.sensor2}\n      </div>\n      <div>\n        <strong>Sensor 3:</strong> {response.data.sensor3}\n      </div>\n      <div>\n        <strong>Sensor 4:</strong> {response.data.sensor4}\n      </div>\n      <p />\n    </>\n  )\n}\n\nexport default Data\n","import React from \"react\"\nimport Data from \"./Data\"\n\nconst average = data => {\n  let sensor1 = 0\n  let sensor2 = 0\n  let sensor3 = 0\n  let sensor4 = 0\n  data.forEach(d => {\n    sensor1 += d.sensor1\n    sensor2 += d.sensor2\n    sensor3 += d.sensor3\n    sensor4 += d.sensor4\n  })\n  sensor1 /= data.length\n  sensor2 /= data.length\n  sensor3 /= data.length\n  sensor4 /= data.length\n  return (\n    <div>\n      <h3>Average of all gathered sensor data:</h3>\n      <div>\n        <strong>Sensor 1:</strong> {sensor1}\n      </div>\n      <div>\n        <strong>Sensor 2:</strong> {sensor2}\n      </div>\n      <div>\n        <strong>Sensor 3:</strong> {sensor3}\n      </div>\n      <div>\n        <strong>Sensor 4:</strong> {sensor4}\n      </div>\n      <p />\n    </div>\n  )\n}\n\nconst peak = data => {\n  let sensor1 = 0\n  let sensor2 = 0\n  let sensor3 = 0\n  let sensor4 = 0\n  data.forEach(d => {\n    if (d.sensor1 > sensor1) sensor1 = d.sensor1\n    if (d.sensor2 > sensor2) sensor2 = d.sensor2\n    if (d.sensor3 > sensor3) sensor3 = d.sensor3\n    if (d.sensor4 > sensor4) sensor4 = d.sensor4\n  })\n\n  return (\n    <div>\n      <h3>The peak of every sensor:</h3>\n      <div>\n        <strong>Sensor 1:</strong> {sensor1}\n      </div>\n      <div>\n        <strong>Sensor 2:</strong> {sensor2}\n      </div>\n      <div>\n        <strong>Sensor 3:</strong> {sensor3}\n      </div>\n      <div>\n        <strong>Sensor 4:</strong> {sensor4}\n      </div>\n      <p />\n    </div>\n  )\n}\n\nconst bottom = data => {\n  let sensor1 = 2147000000\n  let sensor2 = 2147000000\n  let sensor3 = 2147000000\n  let sensor4 = 2147000000\n  data.forEach(d => {\n    if (d.sensor1 < sensor1) sensor1 = d.sensor1\n    if (d.sensor2 < sensor2) sensor2 = d.sensor2\n    if (d.sensor3 < sensor3) sensor3 = d.sensor3\n    if (d.sensor4 < sensor4) sensor4 = d.sensor4\n  })\n\n  return (\n    <div>\n      <h3>The bottom of every sensor:</h3>\n      <div>\n        <strong>Sensor 1:</strong> {sensor1}\n      </div>\n      <div>\n        <strong>Sensor 2:</strong> {sensor2}\n      </div>\n      <div>\n        <strong>Sensor 3:</strong> {sensor3}\n      </div>\n      <div>\n        <strong>Sensor 4:</strong> {sensor4}\n      </div>\n      <p />\n    </div>\n  )\n}\n\nconst Home = ({ currentData, newData, allData }) => (\n  <div>\n    <h3>Current data:</h3>\n    <Data data={currentData} />\n    <button onClick={() => newData()}>Submit data to database</button>\n    {average(allData)}\n    {peak(allData)}\n    {bottom(allData)}\n  </div>\n)\n\nexport default Home\n","import React from \"react\"\nimport Data from \"./Data\"\n\nconst History = ({ allData }) => (\n  <div>\n    <h3>History of past data:</h3>\n    {allData.map(data => (\n      <Data key={data.id} data={data} />\n    ))}\n  </div>\n)\n\nexport default History\n","import React, { useState, useEffect } from \"react\"\nimport dataService from \"./services/data\"\nimport Notification from \"./components/Notification\"\nimport config from \"./utils/config\"\nimport Home from \"./components/Home\"\nimport History from \"./components/History\"\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\"\n\nconst App = () => {\n  const [currentData, setCurrentData] = useState({})\n  const [allData, setAllData] = useState([])\n  const [message, setMessage] = useState(null)\n  const [status, setStatus] = useState(\"\")\n\n  useEffect(() => {\n    dataService.setToken(config.ACCESS_TOKEN)\n    dataService\n      .getData()\n      .then(fetchedData => {\n        setCurrentData(fetchedData)\n        console.log(\"fetched data:\", currentData)\n      })\n      .then(console.log(currentData))\n    dataService.getHistory().then(history => {\n      setAllData(history)\n    })\n  }, [])\n\n  const newData = async () => {\n    try {\n      const newObject = {\n        ...currentData\n      }\n      const addedData = await dataService.create(newObject)\n      setAllData(allData.concat(addedData))\n      setStatus(\"success\")\n      setMessage(\"New data succesfully added\")\n      setTimeout(() => {\n        setMessage(null)\n        setStatus(\"\")\n      }, 5000)\n    } catch (exception) {\n      setStatus(\"error\")\n      setMessage(\"This data already exists in the database!\")\n      setTimeout(() => {\n        setMessage(null)\n        setStatus(\"\")\n      }, 5000)\n      console.log(exception)\n    }\n  }\n  const padding = { padding: 5 }\n  return (\n    <div>\n      <Router>\n        <div>\n          <div>\n            <Link style={padding} to=\"/\">\n              home\n            </Link>\n            <Link style={padding} to=\"/history\">\n              history\n            </Link>\n          </div>\n          <Notification message={message} status={status} />\n          <h1>Open data Task</h1>\n          <Route\n            exact\n            path=\"/\"\n            render={() => (\n              <Home\n                currentData={currentData}\n                newData={newData}\n                allData={allData}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/history\"\n            render={() => <History allData={allData} />}\n          />\n        </div>\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nrequire(\"dotenv\").config()\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}