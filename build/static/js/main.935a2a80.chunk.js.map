{"version":3,"sources":["utils/config.js","services/data.js","components/Notification.js","components/Data.js","components/Home.js","components/History.js","App.js","index.js"],"names":["module","exports","ACCESS_TOKEN","process","token","services_data","getData","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","config","response","wrap","_context","prev","next","headers","Authorization","axios","get","concat","sent","console","log","data","abrupt","stop","apply","this","arguments","setToken","newToken","create","_ref2","_callee2","newObject","_context2","post","_x","getHistory","_ref3","_callee3","_context3","Notification","message","status","react_default","createElement","className","Data","Fragment","date","sensor1","sensor2","sensor3","sensor4","Home","currentData","newData","allData","components_Data","onClick","forEach","d","length","average","peak","bottom","History","map","key","id","App","_useState","useState","_useState2","slicedToArray","setCurrentData","_useState3","_useState4","setAllData","_useState5","_useState6","setMessage","_useState7","_useState8","setStatus","useEffect","dataService","then","fetchedData","history","addedData","objectSpread","setTimeout","t0","padding","BrowserRouter","Link","style","to","components_Notification","Route","exact","path","render","components_Home","components_History","require","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.935a2a80.chunk.js","sourcesContent":["if (process.env.NODE_ENV !== \"production\") {\n  require(\"dotenv\").config()\n}\n\nlet ACCESS_TOKEN = process.env.REACT_APP_ACCESS_TOKEN\n\nmodule.exports = {\n  ACCESS_TOKEN\n}\n","import axios from \"axios\"\nconst dataApiUrl = \"https://opendata.hopefully.works/api\"\nconst baseUrl = \"/api/data\"\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getData = async () => {\n  const config = {\n    headers: { Authorization: token }\n  }\n\n  const response = await axios.get(`${dataApiUrl}/events`, config)\n  console.log(\"response data: \", response.data)\n\n  return response.data\n}\n\nconst create = async newObject => {\n  const response = await axios.post(baseUrl, newObject)\n  return response.data\n}\n\nconst getHistory = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nexport default { getData, setToken, create, getHistory }\n","import React from \"react\"\n\nconst Notification = ({ message, status }) => {\n  if (message === null) {\n    return null\n  }\n  if (status === \"success\") {\n    return <div className=\"success\">{message}</div>\n  } else {\n    return <div className=\"error\">{message}</div>\n  }\n}\n\nexport default Notification\n","import React from \"react\"\n\nconst Data = response => {\n  console.log(\"data4: \", response)\n\n  return (\n    <>\n      <div>\n        <strong>Date:</strong> {response.data.date}\n      </div>\n      <div>\n        <strong>Sensor 1:</strong> {response.data.sensor1}\n      </div>\n      <div>\n        <strong>Sensor 2:</strong> {response.data.sensor2}\n      </div>\n      <div>\n        <strong>Sensor 3:</strong> {response.data.sensor3}\n      </div>\n      <div>\n        <strong>Sensor 4:</strong> {response.data.sensor4}\n      </div>\n      <p />\n    </>\n  )\n}\n\nexport default Data\n","import React from \"react\"\nimport Data from \"./Data\"\n\nconst average = data => {\n  let sensor1 = 0\n  let sensor2 = 0\n  let sensor3 = 0\n  let sensor4 = 0\n  data.forEach(d => {\n    sensor1 += d.sensor1\n    sensor2 += d.sensor2\n    sensor3 += d.sensor3\n    sensor4 += d.sensor4\n  })\n  sensor1 /= data.length\n  sensor2 /= data.length\n  sensor3 /= data.length\n  sensor4 /= data.length\n  return (\n    <div>\n      <h3>Average of all gathered sensor data:</h3>\n      <div>\n        <strong>Sensor 1:</strong> {sensor1}\n      </div>\n      <div>\n        <strong>Sensor 2:</strong> {sensor2}\n      </div>\n      <div>\n        <strong>Sensor 3:</strong> {sensor3}\n      </div>\n      <div>\n        <strong>Sensor 4:</strong> {sensor4}\n      </div>\n      <p />\n    </div>\n  )\n}\n\nconst peak = data => {\n  let sensor1 = 0\n  let sensor2 = 0\n  let sensor3 = 0\n  let sensor4 = 0\n  data.forEach(d => {\n    if (d.sensor1 > sensor1) sensor1 = d.sensor1\n    if (d.sensor2 > sensor2) sensor2 = d.sensor2\n    if (d.sensor3 > sensor3) sensor3 = d.sensor3\n    if (d.sensor4 > sensor4) sensor4 = d.sensor4\n  })\n\n  return (\n    <div>\n      <h3>The peak of every sensor:</h3>\n      <div>\n        <strong>Sensor 1:</strong> {sensor1}\n      </div>\n      <div>\n        <strong>Sensor 2:</strong> {sensor2}\n      </div>\n      <div>\n        <strong>Sensor 3:</strong> {sensor3}\n      </div>\n      <div>\n        <strong>Sensor 4:</strong> {sensor4}\n      </div>\n      <p />\n    </div>\n  )\n}\n\nconst bottom = data => {\n  let sensor1 = 2147000000\n  let sensor2 = 2147000000\n  let sensor3 = 2147000000\n  let sensor4 = 2147000000\n  data.forEach(d => {\n    if (d.sensor1 < sensor1) sensor1 = d.sensor1\n    if (d.sensor2 < sensor2) sensor2 = d.sensor2\n    if (d.sensor3 < sensor3) sensor3 = d.sensor3\n    if (d.sensor4 < sensor4) sensor4 = d.sensor4\n  })\n\n  return (\n    <div>\n      <h3>The bottom of every sensor:</h3>\n      <div>\n        <strong>Sensor 1:</strong> {sensor1}\n      </div>\n      <div>\n        <strong>Sensor 2:</strong> {sensor2}\n      </div>\n      <div>\n        <strong>Sensor 3:</strong> {sensor3}\n      </div>\n      <div>\n        <strong>Sensor 4:</strong> {sensor4}\n      </div>\n      <p />\n    </div>\n  )\n}\n\nconst Home = ({ currentData, newData, allData }) => (\n  <div>\n    <h3>Current data:</h3>\n    <Data data={currentData} />\n    <button onClick={() => newData()}>Submit data to database</button>\n    {average(allData)}\n    {peak(allData)}\n    {bottom(allData)}\n  </div>\n)\n\nexport default Home\n","import React from \"react\"\nimport Data from \"./Data\"\n\nconst History = ({ allData }) => (\n  <div>\n    <h3>History of past data:</h3>\n    {allData.map(data => (\n      <Data key={data.id} data={data} />\n    ))}\n  </div>\n)\n\nexport default History\n","import React, { useState, useEffect } from \"react\"\nimport dataService from \"./services/data\"\nimport Notification from \"./components/Notification\"\nimport config from \"./utils/config\"\nimport Home from \"./components/Home\"\nimport History from \"./components/History\"\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\"\n\nconst App = () => {\n  const [currentData, setCurrentData] = useState({})\n  const [allData, setAllData] = useState([])\n  const [message, setMessage] = useState(null)\n  const [status, setStatus] = useState(\"\")\n\n  useEffect(() => {\n    dataService.setToken(config.ACCESS_TOKEN)\n    dataService\n      .getData()\n      .then(fetchedData => {\n        setCurrentData(fetchedData)\n        console.log(\"fetched data:\", currentData)\n      })\n      .then(console.log(currentData))\n    dataService.getHistory().then(history => {\n      setAllData(history)\n    })\n  }, [])\n\n  const newData = async () => {\n    try {\n      const newObject = {\n        ...currentData\n      }\n      const addedData = await dataService.create(newObject)\n      setAllData(allData.concat(addedData))\n      setStatus(\"success\")\n      setMessage(\"New data succesfully added\")\n      setTimeout(() => {\n        setMessage(null)\n        setStatus(\"\")\n      }, 5000)\n    } catch (exception) {\n      setStatus(\"error\")\n      setMessage(\"This data already exists in the database!\")\n      setTimeout(() => {\n        setMessage(null)\n        setStatus(\"\")\n      }, 5000)\n      console.log(exception)\n    }\n  }\n  const padding = { padding: 5 }\n  return (\n    <div>\n      <Router>\n        <div>\n          <div>\n            <Link style={padding} to=\"/\">\n              home\n            </Link>\n            <Link style={padding} to=\"/history\">\n              history\n            </Link>\n          </div>\n          <Notification message={message} status={status} />\n          <h1>Open data Task</h1>\n          <Route\n            exact\n            path=\"/\"\n            render={() => (\n              <Home\n                currentData={currentData}\n                newData={newData}\n                allData={allData}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/history\"\n            render={() => <History allData={allData} />}\n          />\n        </div>\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nrequire(\"dotenv\").config()\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}